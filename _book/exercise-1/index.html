
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Accessing a cluster with IKS Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../exercise-2/" />
    
    
    <link rel="prev" href="../" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">KubeCon Istio Workshop</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.1.1" data-path="./">
            
                <a href="./">
            
                    
                    Accessing a cluster with IKS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../exercise-2/">
            
                <a href="../exercise-2/">
            
                    
                    Installing Istio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../exercise-3/">
            
                <a href="../exercise-3/">
            
                    
                    Deploy Guestbook Application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="../exercise-4/">
            
                <a href="../exercise-4/">
            
                    
                    Metrics and Tracing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="../exercise-5/">
            
                <a href="../exercise-5/">
            
                    
                    Expose with Istio Gateway
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="../exercise-6/">
            
                <a href="../exercise-6/">
            
                    
                    Traffic Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7" data-path="../exercise-7/">
            
                <a href="../exercise-7/">
            
                    
                    Secure your service mesh
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8" data-path="../exercise-8/">
            
                <a href="../exercise-8/">
            
                    
                    Enforce policies for microservices
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Accessing a cluster with IKS</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="exercise-1---accessing-a-kubernetes-cluster-with-ibm-cloud-kubernetes-service">Exercise 1 - Accessing a Kubernetes cluster with IBM Cloud Kubernetes Service</h1>
<p>You must already have a <a href="https://console.bluemix.net/docs/containers/container_index.html#container_index" target="_blank">cluster created</a>. Here are the steps to access your cluster.</p>
<h2 id="install-ibm-cloud-kubernetes-service-command-line-utilities">Install IBM Cloud Kubernetes Service command line utilities</h2>
<ol>
<li><p>Install the IBM Cloud <a href="https://console.bluemix.net/docs/cli/reference/bluemix_cli/get_started.html#getting-started" target="_blank">command line interface</a>.</p>
</li>
<li><p>Log in to the IBM Cloud CLI.</p>
<pre><code class="lang-shell">ibmcloud login
</code></pre>
<p>If you have a federated account, include the <code>--sso</code> flag.</p>
<pre><code class="lang-shell">ibmcloud login --sso
</code></pre>
<p>If you have an api key, use:</p>
<pre><code class="lang-shell">ibmcloud login --apikey &lt;apikey&gt;
</code></pre>
</li>
<li><p>Install the IBM Cloud Kubernetes Service plug-in.</p>
<pre><code class="lang-shell">ibmcloud plugin install container-service
</code></pre>
</li>
<li><p>To verify that the plug-in is installed properly, run <code>ibmcloud plugin list</code>. The Container Service plug-in is displayed in the results as <code>container-service/kubernetes-service</code>.</p>
</li>
<li><p>Initialize the Container Service plug-in and point the endpoint to your region. For example when prompted, enter <code>5</code> for <code>us-east</code>.</p>
<p>Example:</p>
<pre><code class="lang-shell">ibmcloud cs region-set
Choose a region:
1. ap-north
2. ap-south
3. eu-central
4. uk-south
5. us-east
6. us-south
Enter a number&gt; 5
</code></pre>
</li>
<li><p>Install the Kubernetes CLI. Go to the <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/#install-kubectl-binary-via-curl" target="_blank">Kubernetes page</a>, and follow the steps to install the CLI.</p>
</li>
</ol>
<h2 id="access-your-cluster">Access your cluster</h2>
<p>Learn how to set the context to work with your cluster by using the <code>kubectl</code> CLI, access the Kubernetes dashboard, and gather basic information about your cluster.</p>
<ol>
<li><p>Set the context for your cluster in your CLI. Every time you log in to the IBM Cloud Kubernetes Service CLI to work with the cluster, you must run these commands to set the path to the cluster&apos;s configuration file as a session variable. The Kubernetes CLI uses this variable to find a local configuration file and certificates that are necessary to connect with the cluster in IBM Cloud.</p>
<p>a. List the available clusters.</p>
<pre><code class="lang-shell">ibmcloud cs clusters
</code></pre>
<p>b. Download the configuration file and certificates for your cluster using the <code>cluster-config</code> command.</p>
<pre><code class="lang-shell">ibmcloud cs cluster-config &lt;your_cluster_name&gt;
</code></pre>
<p>c. Copy and paste the output command from the previous step to set the <code>KUBECONFIG</code> environment variable and configure your CLI to run <code>kubectl</code> commands against your cluster.</p>
<p>Example:</p>
<pre><code class="lang-shell">export KUBECONFIG=/Users/user-name/.bluemix/plugins/container-service/clusters/mycluster/kube-config-hou02-mycluster.yml
</code></pre>
</li>
<li><p>Get basic information about your cluster and its worker nodes. This information can help you manage your cluster and troubleshoot issues.</p>
<p>a.  View details of your cluster.</p>
<pre><code class="lang-shell">ibmcloud cs cluster-get &lt;your_cluster_name&gt;
</code></pre>
<p>b.  Verify the worker nodes in the cluster.</p>
<pre><code class="lang-shell">ibmcloud cs workers &lt;your_cluster_name&gt;
ibmcloud cs worker-get &lt;worker_ID&gt;
</code></pre>
</li>
<li><p>Validate access to your cluster.</p>
<p>a.  View nodes in the cluster.</p>
<pre><code class="lang-shell">kubectl get node
</code></pre>
<p>b.  View services, deployments, and pods.</p>
<pre><code class="lang-shell">kubectl get svc,deploy,po --all-namespaces
</code></pre>
</li>
</ol>
<h2 id="clone-the-lab-repo">Clone the lab repo</h2>
<ol>
<li><p>From your command line, run:</p>
<pre><code class="lang-shell"> git clone https://github.com/IBM/istio101

 cd istio101/workshop
</code></pre>
<p> This is the working directory for the workshop. You will use the example <code>.yaml</code> files that are located in the <code>workshop/plans</code> directory in the following exercises.</p>
</li>
</ol>
<h3 id="continue-to-exercise-2---installing-istio"><a href="../exercise-2/">Continue to Exercise 2 - Installing Istio</a></h3>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../" class="navigation navigation-prev " aria-label="Previous page: Introduction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../exercise-2/" class="navigation navigation-next " aria-label="Next page: Installing Istio">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Accessing a cluster with IKS","level":"1.1.1","depth":2,"next":{"title":"Installing Istio","level":"1.1.2","depth":2,"path":"exercise-2/README.md","ref":"exercise-2/README.md","articles":[]},"previous":{"title":"Introduction","level":"1.1","depth":1,"path":"README.md","ref":"./README.md","articles":[{"title":"Accessing a cluster with IKS","level":"1.1.1","depth":2,"path":"exercise-1/README.md","ref":"exercise-1/README.md","articles":[]},{"title":"Installing Istio","level":"1.1.2","depth":2,"path":"exercise-2/README.md","ref":"exercise-2/README.md","articles":[]},{"title":"Deploy Guestbook Application","level":"1.1.3","depth":2,"path":"exercise-3/README.md","ref":"exercise-3/README.md","articles":[]},{"title":"Metrics and Tracing","level":"1.1.4","depth":2,"path":"exercise-4/README.md","ref":"exercise-4/README.md","articles":[]},{"title":"Expose with Istio Gateway","level":"1.1.5","depth":2,"path":"exercise-5/README.md","ref":"exercise-5/README.md","articles":[]},{"title":"Traffic Management","level":"1.1.6","depth":2,"path":"exercise-6/README.md","ref":"exercise-6/README.md","articles":[]},{"title":"Secure your service mesh","level":"1.1.7","depth":2,"path":"exercise-7/README.md","ref":"exercise-7/README.md","articles":[]},{"title":"Enforce policies for microservices","level":"1.1.8","depth":2,"path":"exercise-8/README.md","ref":"exercise-8/README.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["livereload"],"root":"./workshop","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"exercise-1/README.md","mtime":"2018-12-04T14:26:03.140Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-12-04T14:50:20.706Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

